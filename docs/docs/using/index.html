<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Using # pyControl # This nosepoke works with the pyControl behavior framework. Specifically, this means that the RJ45 pinout is compatible with pyControl. Using an ethernet cable, you can connect the nosepoke to an original breakout board or a D-series breakout board.
The latest software release can be downloaded here. Additional pyControl hardware can be purchased from the Open Ephys Store.
Example task # Note # For the example to work, nosepoke.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="Using # pyControl # This nosepoke works with the pyControl behavior framework. Specifically, this means that the RJ45 pinout is compatible with pyControl. Using an ethernet cable, you can connect the nosepoke to an original breakout board or a D-series breakout board.
The latest software release can be downloaded here. Additional pyControl hardware can be purchased from the Open Ephys Store.
Example task # Note # For the example to work, nosepoke." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://karpova-lab.github.io/nosepoke/docs/using/" /><meta property="article:section" content="docs" />



<title>Using | Nosepoke</title>
<link rel="manifest" href="/nosepoke/manifest.json">
<link rel="icon" href="/nosepoke/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/nosepoke/book.min.c969c1a25ce0fbdd32c9e0fbda80701b09aa69e01403ce91dc5cb30167218af9.css" integrity="sha256-yWnBolzg&#43;90yyeD72oBwGwmqaeAUA86R3FyzAWchivk=" crossorigin="anonymous"><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <script src="https://kit.fontawesome.com/622646117d.js" crossorigin="anonymous"></script>
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/nosepoke/"><span>Nosepoke</span>
  </a>
</h2>




<div class="menu-before"></div>







  



  
  <ul>
    <li>
      <a href= "/nosepoke/" class="">Overview</a>
    </li>
    
      
        <li>
          
  
  

  
    <a href="https://karpova-lab.github.io/nosepoke/docs/designs/" class="">BOM and Design files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://karpova-lab.github.io/nosepoke/docs/building/" class="">Building</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://karpova-lab.github.io/nosepoke/docs/using/" class=" active">Using</a>
  

        </li>
      
    
  </ul>














<div class="menu-after">
</div>

<a href="https://github.com/Karpova-Lab/nosepoke" class="btn-external issue">
    <i class="fab fa-github"></i>
    GitHub Repository
</a>

<div class="below">
    <br>

    <p class="github_text">Questions? Feedback? Ideas?</p>
    <a href="https://github.com/Karpova-Lab/nosepoke/discussions" class="btn-external issue">
        <i class="fas fa-comments"></i>   Add to discussions
    </a>

    <p class="github_text">Corrections?</p>
    <a href="https://github.com/Karpova-Lab/nosepoke/issues/new" class="btn-external issue">
        <i class="fas fa-edit"></i> Submit an issue 
    </a>

</div>
</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/nosepoke/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <label for="toc-control">
    
    <img src="/nosepoke/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#using">Using</a>
      <ul>
        <li><a href="#pycontrol">pyControl</a></li>
        <li><a href="#example-task">Example task</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="using">
  Using
  <a class="anchor" href="#using">#</a>
</h1>
<h2 id="pycontrol">
  pyControl
  <a class="anchor" href="#pycontrol">#</a>
</h2>
<p>This nosepoke works with the <a href="https://pycontrol.readthedocs.io/en/latest/">pyControl</a> behavior framework.
Specifically, this means that the RJ45 <a href="https://pycontrol.readthedocs.io/en/latest/user-guide/hardware/#behaviour-ports">pinout</a> is compatible with pyControl.
Using an ethernet cable, you can connect the nosepoke to an <a href="https://open-ephys.org/pycontrol/pycontrol">original breakout board</a> or a <a href="https://karpova-lab.github.io/pyControl-D-Series-Breakout/index.html">D-series breakout board</a>.</p>
<p>The latest software release can be downloaded <a href="https://github.com/pyControl/code/releases">here</a>.
Additional pyControl hardware can be purchased from the <a href="https://open-ephys.org/pycontrol">Open Ephys Store</a>.</p>
<h2 id="example-task">
  Example task
  <a class="anchor" href="#example-task">#</a>
</h2>
<blockquote class="book-hint info">
  <h3 id="i-classfas-fa-info-circlei-note">
  <i class="fas fa-info-circle"></i> Note
  <a class="anchor" href="#i-classfas-fa-info-circlei-note">#</a>
</h3>
<p>For the example to work,  <a href="nosepoke.py" download > <i class="fa fa-download"></i> nosepoke.py </a> must be downloaded and placed in your <code>devices</code> folder.
Then after connecting to you pyboard, use the &ldquo;config&rdquo; button to &ldquo;Load framework&rdquo;.
This will transfer the device files, including _nosepoke.py, from your computer onto the pyboard microcontroller.
</blockquote>

<p>Instructions for using the pyControl GUI to upload and run a task can be found <a href="https://pycontrol.readthedocs.io/en/latest/user-guide/graphical-user-interface/">here</a>.</p>
<p>Below is an example task that can be run to test the nosepoke.
This task assumes there is a nosepoke connected to <strong>port 1</strong> of a breakout board and the <code>hardware_definition.py</code> file (included with the software download) has been uploaded to the pyboard.
Once the task is running, the nosepoke LED will turn on whenever a poke is being detected.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pyControl.utility <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> devices <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pyControl.hardware <span style="color:#66d9ef">as</span> _h
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## uncomment one of the following two lines depending out which breakout board you are using</span>
</span></span><span style="display:flex;"><span>board <span style="color:#f92672">=</span> Breakout_1_2()  <span style="color:#75715e"># original pyboard breakout</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># board = Breakout_dseries_1_6()  # d-series pyboard breakout</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nose <span style="color:#f92672">=</span> Nosepoke(board<span style="color:#f92672">.</span>port_1, nose_event<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;poke&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>states <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;init_state&#39;</span>]
</span></span><span style="display:flex;"><span>events <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;poke&#39;</span>, <span style="color:#e6db74">&#39;poke_out&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>initial_state <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;init_state&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">init_state</span>(event):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> event <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;entry&#39;</span>:
</span></span><span style="display:flex;"><span>        nose<span style="color:#f92672">.</span>IR_LED<span style="color:#f92672">.</span>on()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> event <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;poke&#39;</span>:
</span></span><span style="display:flex;"><span>        nose<span style="color:#f92672">.</span>LED<span style="color:#f92672">.</span>on()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> event <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;poke_out&#39;</span>:
</span></span><span style="display:flex;"><span>        nose<span style="color:#f92672">.</span>LED<span style="color:#f92672">.</span>off()
</span></span></code></pre></div><p>For more information on writing your own tasks, refer to the <a href="https://pycontrol.readthedocs.io/en/latest/user-guide/programming-tasks/">pyControl documentation</a>.</p>
</article>
 
      <div class="chapter_btns">
    
    
        
        

        <a class="btn-nav prev" href= https://karpova-lab.github.io/nosepoke/docs/building/>
            <i style="font-size: 1rem;">previous</i><br><i class="fas fa-arrow-left"></i> Building</i>
        </a>
    
    
    
    

</div>

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        <br>
These docs are built with <a href="https://gohugo.io/">Hugo</a> . A forked version of <a href="https://github.com/alustig3/hugo-book">Hugo Book</a> is used as the theme.
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#using">Using</a>
      <ul>
        <li><a href="#pycontrol">pyControl</a></li>
        <li><a href="#example-task">Example task</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












